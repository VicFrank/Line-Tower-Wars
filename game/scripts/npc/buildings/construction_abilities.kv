"DOTAAbilities"
{
  "Version"   "1"

  "build_archer_tower"
  {
    "AbilityTextureName"            "ArcherTower"

    "UnitName"                      "archer_tower"
    "AbilityGoldCost"               "10"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "MaxLevel"                      "1"
    "Building"                      "1"
    "AbilityCastRange"              "260"
    "Scale"                         "1"
    "PlayerCanControl"              "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "builder.lua"
        "Function"          "Build"
      }
    }
  }

  "upgrade_gunner_tower"
  {
    "AbilityTextureName"            "GunnerTower"
    "AbilityGoldCost"               "30"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "gunner_tower"
      }
    }
  }

  "upgrade_watch_tower"
  {
    "AbilityTextureName"            "WatchTower"
    "AbilityGoldCost"               "120"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "watch_tower"
      }
    }
  }
  
  "upgrade_guard_tower"
  {
    "AbilityTextureName"            "GuardTower"
    "AbilityGoldCost"               "1000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "guard_tower"
      }
    }
  }
  
  "upgrade_ward_tower"
  {
    "AbilityTextureName"            "WardTower"
    "AbilityGoldCost"               "10000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ward_tower"
      }
    }
  }
  
  "upgrade_ultimate_ward_tower"
  {
    "AbilityTextureName"            "UltimateWardTower"
    "AbilityGoldCost"               "30000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_ward_tower"
      }
    }
  }
  
  "upgrade_cannon_tower"
  {
    "AbilityTextureName"            "CannonTower"
    "AbilityGoldCost"               "120"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "cannon_tower"
      }
    }
  }
  
  "upgrade_bombard_tower"
  {
    "AbilityTextureName"            "BombardTower"
    "AbilityGoldCost"               "1000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "bombard_tower"
      }
    }
  }
  
   "upgrade_artillery_tower"
  {
    "AbilityTextureName"            "ArtilleryTower"
    "AbilityGoldCost"               "10000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "artillery_tower"
      }
    }
  }
  
  "upgrade_ultimate_artillery_tower"
  {
    "AbilityTextureName"            "UltimateArtilleryTower"
    "AbilityGoldCost"               "30000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_artillery_tower"
      }
    }
  }

  "build_cutter_tower"
  {
    "AbilityTextureName"            "CutterTower"

    "UnitName"                      "cutter_tower"
    "AbilityGoldCost"               "10"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "MaxLevel"                      "1"
    "Building"                      "1"
    "AbilityCastRange"              "260"
    "Scale"                         "1"
    "PlayerCanControl"              "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "builder.lua"
        "Function"          "Build"
      }
    }
  }
  
   "upgrade_grinder_tower"
  {
    "AbilityTextureName"            "GrinderTower"
    "AbilityGoldCost"               "30"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "grinder_tower"
      }
    }
  }
  
  "upgrade_carver_tower"
  {
    "AbilityTextureName"            "CarverTower"
    "AbilityGoldCost"               "120"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "carver_tower"
      }
    }
  }
  
  "upgrade_executioner_tower"
  {
    "AbilityTextureName"            "ExecutionerTower"
    "AbilityGoldCost"               "1000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "executioner_tower"
      }
    }
  }
  
  "upgrade_mauler_tower"
  {
    "AbilityTextureName"            "MaulerTower"
    "AbilityGoldCost"               "10000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "mauler_tower"
      }
    }
  }
  
  "upgrade_ultimate_mauler_tower"
  {
    "AbilityTextureName"            "UltimateMaulerTower"
    "AbilityGoldCost"               "30000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_mauler_tower"
      }
    }
  }
  
  "upgrade_crusher_tower"
  {
    "AbilityTextureName"            "CrusherTower"
    "AbilityGoldCost"               "120"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "crusher_tower"
      }
    }
  }
  
  "upgrade_wrecker_tower"
  {
    "AbilityTextureName"            "WreckerTower"
    "AbilityGoldCost"               "1000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "wrecker_tower"
      }
    }
  }
  
  "upgrade_mangler_tower"
  {
    "AbilityTextureName"            "ManglerTower"
    "AbilityGoldCost"               "10000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "mangler_tower"
      }
    }
  }
  
  "upgrade_ultimate_mangler_tower"
  {
    "AbilityTextureName"            "UltimateManglerTower"
    "AbilityGoldCost"               "30000"
    "AbilityChannelTime"            "3"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_mangler_tower"
      }
    }
  }

  ///////////////////////////////////
  // Elements
  ///////////////////////////////////

  "build_elemental_core"
  {
    "AbilityTextureName"            "elemental_core"

    "UnitName"                      "elemental_core"
    "AbilityGoldCost"               "200"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "MaxLevel"                      "1"
    "Building"                      "1"
    "AbilityCastRange"              "260"
    "Scale"                         "1"
    "PlayerCanControl"              "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"        "builder.lua"
        "Function"          "Build"
      }
    }
  }
  
    //============================================================
	// Next Page
	//============================================================
	"next_page"
	{
		"BaseClass"                     "ability_datadriven"
		"AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
		"MaxLevel"                      "1"
		"LevelsBetweenUpgrades"         "0"
		"AbilityTextureName"            "NextPage"
		"Building"                      "1"
		"AbilityCastRange"              "260"
		"Scale"                         "3"
		"PlayerCanControl"              "1"
		"OnSpellStart"
		{
			"RunScript"
			{
				"TARGET"		"CASTER"
				"ScriptFile"	"mechanics/page.lua"
				"Function"		"ChangePage"
				"tower"			"elemental_core2"
			}
		}
	}
	
	//============================================================
	// Previous Page
	//============================================================
	"previous_page"
	{
		"BaseClass"                     "ability_datadriven"
		"AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"
		"MaxLevel"                      "1"
		"LevelsBetweenUpgrades"         "0"
		"AbilityTextureName"            "PreviousPage"
		"Building"                      "1"
		"AbilityCastRange"              "260"
		"Scale"                         "3"
		"PlayerCanControl"              "1"
		"OnSpellStart"
		{
			"RunScript"
			{
				"TARGET"		"CASTER"
				"ScriptFile"	"mechanics/page.lua"
				"Function"		"ChangePage"
				"tower"			"elemental_core"
			}
		}
	}

  "upgrade_fire_pit"
  {
    "AbilityTextureName"            "fire_pit"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Fir0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "fire_pit"
      }
    }
  }

  "upgrade_magma_well"
  {
    "AbilityTextureName"            "magma_well"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Fir0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "magma_well"
      }
    }
  }

  "upgrade_meteor_attractor"
  {
    "AbilityTextureName"            "meteor_attractor"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Fir1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "meteor_attractor"
      }
    }
  }

  "upgrade_armageddon"
  {
    "AbilityTextureName"            "armageddon"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Fir1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "armageddon"
      }
    }
  }

  "upgrade_ultimate_moonbeam_projector"
  {
    "AbilityTextureName"            "ultimate_moonbeam_projector"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Fir1,Arc2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_moonbeam_projector"
      }
    }
  }

  "upgrade_living_flame"
  {
    "AbilityTextureName"            "living_flame"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Fir2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "living_flame"
      }
    }
  }

  "upgrade_hellfire"
  {
    "AbilityTextureName"            "hellfire"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Fir2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "hellfire"
      }
    }
  }

  "upgrade_ultimate_firelord"
  {
    "AbilityTextureName"            "ultimate_firelord"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Fir2,Arc1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_firelord"
      }
    }
  }

  "upgrade_frozen_obelisk"
  {
    "AbilityTextureName"            "frozen_obelisk"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Ice0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "frozen_obelisk"
      }
    }
  }

  "upgrade_runic_obelisk"
  {
    "AbilityTextureName"            "runic_obelisk"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Ice0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "runic_obelisk"
      }
    }
  }

  "upgrade_frozen_watcher"
  {
    "AbilityTextureName"            "frozen_watcher"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Ice1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "frozen_watcher"
      }
    }
  }

  "upgrade_frozen_core"
  {
    "AbilityTextureName"            "frozen_core"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Ice1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "frozen_core"
      }
    }
  }

  "upgrade_ultimate_lich"
  {
    "AbilityTextureName"            "ultimate_lich"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Ice1,Unh2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_lich"
      }
    }
  }

  "upgrade_icicle"
  {
    "AbilityTextureName"            "icicle"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Ice2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "icicle"
      }
    }
  }

  "upgrade_tricicle"
  {
    "AbilityTextureName"            "tricicle"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Ice2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "tricicle"
      }
    }
  }

  "upgrade_ultimate_crystal"
  {
    "AbilityTextureName"            "ultimate_crystal"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Ice2,Lit2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_crystal"
      }
    }
  }

  "upgrade_shock_particle"
  {
    "AbilityTextureName"            "shock_particle"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Lig0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "shock_particle"
      }
    }
  }

  "upgrade_shock_generator"
  {
    "AbilityTextureName"            "shock_generator"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Lig0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "shock_generator"
      }
    }
  }

  "upgrade_lightning_beacon"
  {
    "AbilityTextureName"            "lightning_beacon"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Lig1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "lightning_beacon"
      }
    }
  }

  "upgrade_lightning_generator"
  {
    "AbilityTextureName"            "lightning_generator"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Lig1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "lightning_generator"
      }
    }
  }

  "upgrade_ultimate_annihilation_glyph"
  {
    "AbilityTextureName"            "ultimate_annihilation_glyph"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Lig1,Fir2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_annihilation_glyph"
      }
    }
  }

  "upgrade_voltage"
  {
    "AbilityTextureName"            "voltage"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Lig2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "voltage"
      }
    }
  }

  "upgrade_high_voltage"
  {
    "AbilityTextureName"            "high_voltage"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Lig2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "high_voltage"
      }
    }
  }

  "upgrade_ultimate_orb_keeper"
  {
    "AbilityTextureName"            "ultimate_orb_keeper"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Lig2,Wat2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_orb_keeper"
      }
    }
  }

  "upgrade_light_flies"
  {
    "AbilityTextureName"            "light_flies"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Lit0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "light_flies"
      }
    }
  }

  "upgrade_holy_lantern"
  {
    "AbilityTextureName"            "holy_lantern"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Lit0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "holy_lantern"
      }
    }
  }

  "upgrade_lightshroom"
  {
    "AbilityTextureName"            "lightshroom"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Lit1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "lightshroom"
      }
    }
  }

  "upgrade_enchanted_lightshroom"
  {
    "AbilityTextureName"            "enchanted_lightshroom"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Lit1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "enchanted_lightshroom"
      }
    }
  }

  "upgrade_ultimate_enchanted_lightshroom"
  {
    "AbilityTextureName"            "ultimate_enchanted_lightshroom"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Lit1,Ear2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_enchanted_lightshroom"
      }
    }
  }

  "upgrade_sunray_tower"
  {
    "AbilityTextureName"            "sunray_tower"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Lit2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "sunray_tower"
      }
    }
  }

  "upgrade_purified_sunray_tower"
  {
    "AbilityTextureName"            "purified_sunray_tower"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Lit2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "purified_sunray_tower"
      }
    }
  }

  "upgrade_ultimate_northrend_titan_vault"
  {
    "AbilityTextureName"            "ultimate_northrend_titan_vault"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Lit2,Ice1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_northrend_titan_vault"
      }
    }
  }

  "upgrade_poison_well"
  {
    "AbilityTextureName"            "poison_well"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Unh0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "poison_well"
      }
    }
  }

  "upgrade_catacomb"
  {
    "AbilityTextureName"            "catacomb"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Unh0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "catacomb"
      }
    }
  }

  "upgrade_septic_tank"
  {
    "AbilityTextureName"            "septic_tank"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Unh1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "septic_tank"
      }
    }
  }

  "upgrade_plague_fanatic"
  {
    "AbilityTextureName"            "plague_fanatic"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Unh1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "plague_fanatic"
      }
    }
  }

  "upgrade_ultimate_gravedigger"
  {
    "AbilityTextureName"            "ultimate_gravedigger"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Unh1,Ear1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_gravedigger"
      }
    }
  }

  "upgrade_decayed_guardian"
  {
    "AbilityTextureName"            "decayed_guardian"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Unh2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "decayed_guardian"
      }
    }
  }

  "upgrade_decayed_horror"
  {
    "AbilityTextureName"            "decayed_horror"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Unh2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "decayed_horror"
      }
    }
  }

  "upgrade_ultimate_diabolist"
  {
    "AbilityTextureName"            "ultimate_diabolist"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Unh2,Fir1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_diabolist"
      }
    }
  }

  "upgrade_splasher"
  {
    "AbilityTextureName"            "splasher"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Wat0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "splasher"
      }
    }
  }

  "upgrade_tidecaller"
  {
    "AbilityTextureName"            "tidecaller"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Wat0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "tidecaller"
      }
    }
  }

  "upgrade_water_elemental"
  {
    "AbilityTextureName"            "water_elemental"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Wat1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "water_elemental"
      }
    }
  }

  "upgrade_volatile_water_elemental"
  {
    "AbilityTextureName"            "volatile_water_elemental"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Wat1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "volatile_water_elemental"
      }
    }
  }

  "upgrade_ultimate_hurricane_elemental"
  {
    "AbilityTextureName"            "ultimate_hurricane_elemental"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Wat1,Lig2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_hurricane_elemental"
      }
    }
  }

  "upgrade_tidal_guardian"
  {
    "AbilityTextureName"            "tidal_guardian"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Wat2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "tidal_guardian"
      }
    }
  }

  "upgrade_tidal_monstrosity"
  {
    "AbilityTextureName"            "tidal_monstrosity"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Wat2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "tidal_monstrosity"
      }
    }
  }

  "upgrade_ultimate_sludge_monstrosity"
  {
    "AbilityTextureName"            "ultimate_sludge_monstrosity"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Wat2,Unh1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_sludge_monstrosity"
      }
    }
  }

  "upgrade_rockfall"
  {
    "AbilityTextureName"            "rockfall"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Ear0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "rockfall"
      }
    }
  }

  "upgrade_avalanche"
  {
    "AbilityTextureName"            "avalanche"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Ear0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "avalanche"
      }
    }
  }

  "upgrade_earth_protector"
  {
    "AbilityTextureName"            "earth_protector"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Ear1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "earth_protector"
      }
    }
  }

  "upgrade_ancient_earth_protector"
  {
    "AbilityTextureName"            "ancient_earth_protector"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Ear1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ancient_earth_protector"
      }
    }
  }

  "upgrade_ultimate_ancient_warden"
  {
    "AbilityTextureName"            "ultimate_ancient_warden"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Ear1,Lit1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_ancient_warden"
      }
    }
  }

  "upgrade_poisonous_roots"
  {
    "AbilityTextureName"            "poisonous_roots"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Ear2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "poisonous_roots"
      }
    }
  }

  "upgrade_paralyzing_roots"
  {
    "AbilityTextureName"            "paralyzing_roots"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Ear2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "paralyzing_roots"
      }
    }
  }

  "upgrade_ultimate_scorpion"
  {
    "AbilityTextureName"            "ultimate_scorpion"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Ear2,Wat1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_scorpion"
      }
    }
  }

  "upgrade_spellslinger"
  {
    "AbilityTextureName"            "spellslinger"
    "AbilityGoldCost"               "0"
    "RequiredElements"              "Arc0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "spellslinger"
      }
    }
  }

  "upgrade_spellslinger_master"
  {
    "AbilityTextureName"            "spellslinger_master"
    "AbilityGoldCost"               "800"
    "RequiredElements"              "Arc0"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "spellslinger_master"
      }
    }
  }

  "upgrade_archmage"
  {
    "AbilityTextureName"            "archmage"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Arc1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "archmage"
      }
    }
  }

  "upgrade_grand_archmage"
  {
    "AbilityTextureName"            "grand_archmage"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Arc1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "grand_archmage"
      }
    }
  }

  "upgrade_ultimate_kirin_tor_wizard"
  {
    "AbilityTextureName"            "ultimate_kirin_tor_wizard"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Arc1,Ice2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_kirin_tor_wizard"
      }
    }
  }

  "upgrade_arcane_pylon"
  {
    "AbilityTextureName"            "arcane_pylon"
    "AbilityGoldCost"               "4000"
    "RequiredElements"              "Arc2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "arcane_pylon"
      }
    }
  }

  "upgrade_unstable_arcane_pylon"
  {
    "AbilityTextureName"            "unstable_arcane_pylon"
    "AbilityGoldCost"               "10000"
    "RequiredElements"              "Arc2"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "unstable_arcane_pylon"
      }
    }
  }

  "upgrade_ultimate_arcane_orb"
  {
    "AbilityTextureName"            "ultimate_arcane_orb"
    "AbilityGoldCost"               "30000"
    "RequiredElements"              "Arc2,Lig1"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_arcane_orb"
      }
    }
  }

  "upgrade_ultimate_unstable_elemental_core"
  {
    "AbilityTextureName"            "ultimate_unstable_elemental_core"
    "AbilityGoldCost"               "30000"

    "AbilityChannelTime"            "1"

    "BaseClass"                     "ability_datadriven"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
    "MaxLevel"                      "1"

    "OnSpellStart"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "ResourceCheck"
      }
    }
    
    "OnChannelInterrupted"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "RefundUpgradePrice"
      }
    }
    "OnChannelSucceeded"
    {
      "RunScript"
      {
        "ScriptFile"  "abilities/buildings/upgrades.lua"
        "Function"    "UpgradeBuilding"
        "UnitName"    "ultimate_unstable_elemental_core"
      }
    }
  }
}
